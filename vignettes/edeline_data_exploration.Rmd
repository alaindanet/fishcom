---
title: "Edeline data exploration"
author: "Alain Danet"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Edeline data exploration}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.dim = c(7, 7)
)
library(tidyverse)
library(magrittr)
library(sp)
library(sf)
library(rgdal)
library(raster)
library(mapview)
```

# Goal 

- Get the localisation of the station.
- Estimation quality of community survey
- Look at the possibility to merge stations

## Localisation of the stations

```{r}
station <- read_delim("../data-raw/fishing_station_localisation_wsg84.csv",
  delim = ";", locale = locale("fr", decimal_mark = "."),
  col_types = cols(ST_CODECSP = col_character()))
# Lambert II
station <- sf::st_as_sf(station, coords = c("ST_ABCISSE", "ST_ORDONNEE"), crs = 27572)
## Convert
data(region_polygon)
station <- st_transform(station, st_crs(region_polygon))
```

##Â Get France map


```{r}
plot(st_geometry(region_polygon), lwd = 1.5, col = "grey85")
plot(station, pch = 20, col = "red", add = T)
```

```{r}
mapview::mapview(station)@map
```
Il y a deux stations qui sont biens dans les choux!

```{r}
# Compute distance between points: https://stackoverflow.com/a/53559542
```

```{r}

```


# Assembling station

## Station nature

After talking to Simon, the GPS points are not corresponding to sampling points.
Station are points from where, agents use to derive sampling points for
different surveys.


